# 排序驗證指南 📊

## 如何確認排序是否正確？

### 方法 1：查看排序橫幅 ⭐ **最簡單**

在表格上方會顯示一個**藍色橫幅**，顯示當前所有排序規則：

```
┌─────────────────────────────────────────────────────────────┐
│ 📊 當前排序： 優先級 ↑ → 購買日期 ↓ → 剩餘堂數 ↑          │
│                                      💡 Shift+點擊可疊加排序 │
└─────────────────────────────────────────────────────────────┘
```

**怎麼看？**
- `優先級 ↑` = 按優先級升序（高→中→低）
- `→` = 然後再按...
- `購買日期 ↓` = 按購買日期降序（最新→最舊）
- `→` = 然後再按...
- `剩餘堂數 ↑` = 按剩餘堂數升序（少→多）

---

### 方法 2：查看欄位標頭圖示

每個有排序的欄位標頭會顯示箭頭和數字：

```
┌──────────┬──────────┬──────────┬──────────┐
│ 優先級 ↑①│ 購買日期 ↓②│ 剩餘堂數 ↑③│ 教師    │
└──────────┴──────────┴──────────┴──────────┘
```

**符號說明**：
- `↑` = 升序（小到大、A到Z、舊到新）
- `↓` = 降序（大到小、Z到A、新到舊）
- `①②③` = 排序優先級（先按①，相同再按②，再相同才按③）

---

### 方法 3：檢查表格資料順序

#### **範例 1：單一排序 - 優先級**

**操作**：點擊「優先級」欄位標頭

**橫幅顯示**：
```
📊 當前排序： 優先級 ↑
```

**表格應該顯示**：
```
┌─────┬────────┬──────────┐
│ 🔴 │ 張三   │ 2025-10-12│  ← 高優先都在上面
│ 🔴 │ 李四   │ 2025-10-10│
│ 🔴 │ 王五   │ 2025-10-08│
│ 🟡 │ 趙六   │ 2025-10-11│  ← 中優先在中間
│ 🟡 │ 錢七   │ 2025-10-09│
│ 🟢 │ 孫八   │ 2025-10-12│  ← 低優先在下面
└─────┴────────┴──────────┘
```

✅ **正確**：所有 🔴 在最上面，然後 🟡，最後 🟢

---

#### **範例 2：疊加排序 - 優先級 + 購買日期**

**操作**：
1. 點擊「優先級」
2. **Shift+點擊**「購買日期」
3. 點擊「購買日期」（切換降序）

**橫幅顯示**：
```
📊 當前排序： 優先級 ↑ → 購買日期 ↓
```

**表格應該顯示**：
```
┌─────┬────────┬──────────┐
│ 🔴 │ 張三   │ 2025-10-12│  ← 高優先 + 最新日期
│ 🔴 │ 李四   │ 2025-10-10│  ← 高優先 + 次新日期
│ 🔴 │ 王五   │ 2025-10-08│  ← 高優先 + 較舊日期
│ 🟡 │ 趙六   │ 2025-10-11│  ← 中優先 + 最新日期
│ 🟡 │ 錢七   │ 2025-10-09│  ← 中優先 + 次新日期
│ 🟢 │ 孫八   │ 2025-10-12│  ← 低優先 + 最新日期
│ 🟢 │ 周九   │ 2025-10-05│  ← 低優先 + 較舊日期
└─────┴────────┴──────────┘
```

✅ **正確**：
1. 先按優先級分組（🔴 > 🟡 > 🟢）
2. 同優先級內，日期新的在前（10-12 > 10-10 > 10-08）

---

#### **範例 3：三層排序 - 教師 + 狀態 + 剩餘堂數**

**操作**：
1. 點擊「教師」
2. **Shift+點擊**「狀態」
3. **Shift+點擊**「剩餘堂數」

**橫幅顯示**：
```
📊 當前排序： 教師 ↑ → 狀態 ↑ → 剩餘堂數 ↑
```

**表格應該顯示**：
```
┌────────┬────────┬──────┐
│ Elena  │ 未開始 │ 0    │  ← Elena，未開始，剩0堂
│ Elena  │ 體驗中 │ 1    │  ← Elena，體驗中，剩1堂
│ Elena  │ 體驗中 │ 3    │  ← Elena，體驗中，剩3堂
│ Elena  │ 未轉高 │ 0    │  ← Elena，未轉高，剩0堂
│ Karen  │ 未開始 │ 0    │  ← Karen，未開始，剩0堂
│ Karen  │ 體驗中 │ 2    │  ← Karen，體驗中，剩2堂
│ Orange │ 體驗中 │ 1    │  ← Orange，體驗中，剩1堂
└────────┴────────┴──────┘
```

✅ **正確**：
1. 先按教師名字字母順序（Elena > Karen > Orange）
2. 同教師內，按狀態字母順序（未開始 > 體驗中 > 未轉高）
3. 同教師同狀態內，按剩餘堂數升序（1 > 2 > 3）

---

## 常見問題 FAQ

### Q1: 我點了欄位標頭但沒看到箭頭？
**A**: 可能是第三次點擊，已經取消排序了。再點一次就會重新開始升序排序。

### Q2: 我看到數字 ①②③ 是什麼意思？
**A**: 那是排序優先級！表示先按①排，相同的再按②排，還相同才按③排。

### Q3: 怎麼取消所有排序？
**A**: 連續點擊同一個欄位標頭 3 次：
1. 第一次：升序
2. 第二次：降序
3. 第三次：取消（回到預設排序）

### Q4: 預設排序是什麼？
**A**: 系統會自動按照以下規則排序：
1. 未完課學生優先（未開始、體驗中）
2. 然後是已完課學生（未轉高、已轉高）
3. 同群組內按優先級排（高 > 中 > 低）

### Q5: Shift+點擊沒反應？
**A**: 確認：
1. 按住 Shift 鍵不放
2. 然後點擊欄位標頭
3. 先放開滑鼠，再放開 Shift

### Q6: 我想恢復剛才的排序怎麼辦？
**A**: 目前需要手動重新點擊。建議未來版本加入「儲存排序」功能。

---

## 快速測試步驟 ⚡

想快速驗證排序功能？跟著這些步驟：

### ✅ 測試 1：基本排序
1. 點擊「購買日期」
2. 檢查：日期從舊到新（2025-10-01 → 2025-10-12）
3. 再點一次
4. 檢查：日期從新到舊（2025-10-12 → 2025-10-01）

### ✅ 測試 2：疊加排序
1. 點擊「教師」
2. **Shift+點擊**「剩餘堂數」
3. 檢查橫幅顯示：`教師 ↑ → 剩餘堂數 ↑`
4. 檢查表格：Elena 的學生都在上面，且剩餘堂數從少到多

### ✅ 測試 3：優先級排序
1. 點擊「優先級」
2. 檢查：所有 🔴 在上面，然後 🟡，最後 🟢
3. **Shift+點擊**「購買日期」
4. 檢查：同顏色內，日期從舊到新

### ✅ 測試 4：取消排序
1. 連續點擊同一欄位 3 次
2. 檢查橫幅消失（或顯示預設排序）
3. 表格回到預設順序

---

## 視覺化檢查表 ✓

印出來貼在螢幕旁邊：

```
□ 藍色橫幅有顯示嗎？
□ 欄位標頭有箭頭嗎？
□ 多欄位排序有數字嗎（①②③）？
□ 表格順序符合橫幅說明嗎？
□ Shift+點擊有新增排序嗎？
□ 連續點擊 3 次有取消排序嗎？
□ 滑鼠 hover 欄位標頭有灰色背景嗎？
□ 優先級說明按鈕有藍色背景嗎？
```

---

## 排序邏輯速查表

| 欄位         | 升序 (↑)                    | 降序 (↓)                    |
|--------------|-----------------------------|-----------------------------|
| 優先級       | 高 → 中 → 低                | 低 → 中 → 高                |
| 學生姓名     | A → Z                       | Z → A                       |
| 購買日期     | 舊 → 新 (2025-01 → 2025-12) | 新 → 舊 (2025-12 → 2025-01) |
| 教師         | A → Z (Elena → Vicky)       | Z → A (Vicky → Elena)       |
| 剩餘堂數     | 少 → 多 (0 → 8)             | 多 → 少 (8 → 0)             |
| 最近上課     | 舊 → 新                     | 新 → 舊                     |
| 狀態         | 未開始 → 已轉高 (字母順序)  | 已轉高 → 未開始             |
| 累積金額     | 少 → 多 (NT$ 0 → 15000)     | 多 → 少 (NT$ 15000 → 0)     |

---

**提示**：如果發現排序不符合預期，請截圖以下內容並回報：
1. 藍色橫幅的完整文字
2. 欄位標頭的箭頭和數字
3. 表格前 5 行的資料

這樣我們可以快速診斷問題！
