# 📋 電訪系統驗收測試清單

**測試人員**: _______
**測試日期**: 2025-10-22
**測試環境**: □ 本地開發 □ Zeabur 線上

---

## 🚀 測試前準備

### 1. 啟動系統
- [ ] 本地開發：執行 `npm run dev`
- [ ] 瀏覽器開啟 `http://localhost:5000` 或線上網址

### 2. 登入系統
- [ ] Email: `xk4xk4563022@gmail.com`
- [ ] 密碼: `Fff1359746!`
- [ ] 成功登入，看到儀表板

---

## 📍 Phase 1: 學生跟進頁面測試

### 測試 1.1: 頁面載入
- [ ] 左側選單看到「電訪系統」區塊
- [ ] 點擊「學生跟進」
- [ ] 頁面成功載入（路徑：`/telemarketing/student-follow-up`）
- [ ] 看到標題「學生跟進管理」

### 測試 1.2: 統計卡片顯示
- [ ] 看到 6 個統計卡片：
  - [ ] 待分配學生（橙色邊框）
  - [ ] 🔴 高優先
  - [ ] 🟡 中優先
  - [ ] 🟢 低優先
  - [ ] 📞 今日待撥
  - [ ] ⚠️ 已逾期
- [ ] 數字正確顯示（非 0 或 NaN）

### 測試 1.3: 學生列表顯示
- [ ] 看到學生列表表格
- [ ] 表格包含以下欄位：
  - [ ] 優先級（紅🔴/黃🟡/綠🟢標籤）
  - [ ] 學生資訊（姓名 + Email）
  - [ ] 聯絡電話
  - [ ] 購買日期（日期 + 天數前）
  - [ ] 方案名稱
  - [ ] 狀態（未開始/體驗中等）
  - [ ] 教師（顯示「未分配」為橙色）
  - [ ] 快速操作（撥打、分配教師按鈕）

### 測試 1.4: 優先級排序
- [ ] 高優先（紅色）學生在最上方
- [ ] 同優先級按購買日期排序（舊的在前）
- [ ] 排序符合邏輯

### 測試 1.5: 篩選功能
**快速篩選按鈕**
- [ ] 點擊「今日待辦」→ 只顯示未開始+高優先學生
- [ ] 點擊「高優先」→ 只顯示高優先學生
- [ ] 點擊「清除篩選」→ 恢復全部顯示

**搜尋功能**
- [ ] 輸入學生姓名 → 正確過濾
- [ ] 輸入 Email → 正確過濾
- [ ] 輸入電話號碼 → 正確過濾
- [ ] 清空搜尋框 → 恢復全部顯示

**下拉篩選**
- [ ] 狀態篩選：選擇「未開始」→ 只顯示未開始學生
- [ ] 狀態篩選：選擇「體驗中」→ 只顯示體驗中學生
- [ ] 優先級篩選：選擇「高優先」→ 只顯示紅色標籤學生
- [ ] 優先級篩選：選擇「中優先」→ 只顯示黃色標籤學生

**組合篩選**
- [ ] 同時使用搜尋 + 狀態篩選 → 正確顯示交集結果
- [ ] 顯示「X / Y 位學生」計數正確

---

## 📞 Phase 2: 撥打電話功能測試

### 測試 2.1: 開啟對話框
- [ ] 點擊學生列表的「撥打」按鈕
- [ ] 對話框彈出
- [ ] 對話框標題顯示「撥打電話」
- [ ] 顯示正確的學生資訊（姓名/Email/電話/狀態）

### 測試 2.2: 表單欄位
- [ ] 看到「聯絡結果」下拉選單（必填，有紅色 * 號）
- [ ] 聯絡結果選項：
  - [ ] ✅ 已接通
  - [ ] ⏰ 未接通
  - [ ] ❌ 拒接
  - [ ] ⚠️ 無效號碼

### 測試 2.3: 條件顯示（選擇「已接通」時）
- [ ] 選擇「已接通」→ 顯示「聯絡狀態」選單
- [ ] 聯絡狀態選項：
  - [ ] 😊 有意願
  - [ ] 🤔 考慮中
  - [ ] 😐 無意願
  - [ ] 📞 再聯絡
- [ ] 顯示「意向程度」選單
- [ ] 意向程度選項：
  - [ ] 🔴 高意願
  - [ ] 🟡 中意願
  - [ ] 🟢 低意願

### 測試 2.4: 條件顯示（選擇其他結果時）
- [ ] 選擇「未接通」→ 不顯示聯絡狀態和意向程度
- [ ] 選擇「拒接」→ 不顯示聯絡狀態和意向程度
- [ ] 選擇「無效號碼」→ 不顯示聯絡狀態和意向程度

### 測試 2.5: 備註欄位
- [ ] 看到「備註」文字框
- [ ] 可以輸入多行文字
- [ ] Placeholder 提示清晰

### 測試 2.6: 儲存功能
**測試案例 A: 未填寫必填欄位**
- [ ] 不選擇「聯絡結果」
- [ ] 點擊「儲存記錄」
- [ ] 顯示錯誤提示「請選擇聯絡結果」

**測試案例 B: 只填寫聯絡結果**
- [ ] 選擇「未接通」
- [ ] 點擊「儲存記錄」
- [ ] 顯示載入動畫（按鈕變成 loading 狀態）
- [ ] 顯示成功訊息「✅ 通話記錄已儲存」
- [ ] 對話框自動關閉

**測試案例 C: 填寫完整資訊**
- [ ] 選擇「已接通」
- [ ] 選擇「有意願」
- [ ] 選擇「高意願」
- [ ] 輸入備註「學生很感興趣，希望盡快安排體驗課」
- [ ] 點擊「儲存記錄」
- [ ] 成功儲存並關閉

### 測試 2.7: 資料刷新
- [ ] 儲存通話記錄後，頁面資料自動刷新
- [ ] 統計卡片數字可能有變化
- [ ] 學生列表保持正確狀態

### 測試 2.8: 取消功能
- [ ] 填寫部分資訊
- [ ] 點擊「取消」按鈕
- [ ] 對話框關閉
- [ ] 不儲存任何資料

---

## 👨‍🏫 Phase 3: 分配教師功能測試

### 測試 3.1: 按鈕顯示邏輯
- [ ] 「未分配」學生顯示「分配教師」按鈕
- [ ] 已有教師的學生不顯示「分配教師」按鈕

### 測試 3.2: 開啟對話框
- [ ] 點擊「分配教師」按鈕
- [ ] 對話框彈出
- [ ] 對話框標題顯示「分配教師」
- [ ] 顯示正確的學生資訊（姓名/Email/方案）

### 測試 3.3: 教師列表載入
- [ ] 看到「載入教師列表...」loading 狀態
- [ ] 載入完成後顯示教師下拉選單
- [ ] 下拉選單包含所有可用教師

### 測試 3.4: 教師資訊顯示
- [ ] 每位教師顯示姓名
- [ ] 顯示當前學生數（例如：「3 位學生」）
- [ ] 負載最低的教師標記「推薦」

### 測試 3.5: 智能推薦
- [ ] 對話框下方顯示推薦訊息
- [ ] 推薦訊息格式：「💡 推薦教師：XXX（目前負載較低）」
- [ ] 推薦的教師確實是學生數最少的

### 測試 3.6: 預約時間（選填）
- [ ] 看到「預約首次上課時間」日期選擇器
- [ ] 可以選擇未來日期
- [ ] 不能選擇過去日期
- [ ] 提示文字清晰

### 測試 3.7: 教師概況
- [ ] 看到藍色背景的「教師概況」區塊
- [ ] 顯示「目前有 X 位教師可分配」
- [ ] 數字正確

### 測試 3.8: 分配功能
**測試案例 A: 未選擇教師**
- [ ] 不選擇教師
- [ ] 點擊「確認分配」
- [ ] 顯示錯誤提示「請選擇教師」

**測試案例 B: 只選擇教師**
- [ ] 選擇一位教師
- [ ] 點擊「確認分配」
- [ ] 顯示載入動畫
- [ ] 顯示成功訊息（或錯誤訊息，如果 API 未完成）

**測試案例 C: 選擇教師 + 預約時間**
- [ ] 選擇教師
- [ ] 選擇預約日期
- [ ] 點擊「確認分配」
- [ ] 嘗試儲存

### 測試 3.9: 取消功能
- [ ] 選擇教師
- [ ] 點擊「取消」
- [ ] 對話框關閉
- [ ] 不執行分配

---

## 🔄 整合測試

### 測試 4.1: 完整工作流程
1. [ ] 進入學生跟進頁面
2. [ ] 點擊「今日待辦」快速篩選
3. [ ] 選擇第一位高優先學生
4. [ ] 點擊「撥打」
5. [ ] 記錄通話結果（已接通/有意願/高意願）
6. [ ] 儲存成功
7. [ ] 點擊同一位學生的「分配教師」
8. [ ] 選擇推薦教師
9. [ ] 確認分配
10. [ ] 驗證學生的「教師」欄位已更新

### 測試 4.2: 資料持久性
- [ ] 重新整理頁面
- [ ] 統計數字保持一致
- [ ] 學生列表資料正確
- [ ] 已分配教師的學生正確顯示

### 測試 4.3: 多次操作
- [ ] 連續對 3 位學生撥打電話
- [ ] 每次都成功儲存
- [ ] 統計卡片正確更新

---

## 📊 效能測試

### 測試 5.1: 載入速度
- [ ] 首次載入學生列表 < 3 秒
- [ ] 篩選操作立即響應（< 0.5 秒）
- [ ] 對話框開啟 < 0.3 秒

### 測試 5.2: 大量資料
- [ ] 100+ 學生時，列表滾動流暢
- [ ] 篩選功能正常運作
- [ ] 搜尋速度可接受

---

## 🐛 錯誤處理測試

### 測試 6.1: 網路錯誤
- [ ] 斷開網路
- [ ] 嘗試儲存通話記錄
- [ ] 顯示友善的錯誤訊息
- [ ] 不會崩潰

### 測試 6.2: API 錯誤
- [ ] 如果後端 API 回傳錯誤
- [ ] 顯示錯誤 toast 通知
- [ ] 對話框保持開啟（讓使用者重試）

### 測試 6.3: 空資料狀態
- [ ] 如果沒有學生資料
- [ ] 顯示「沒有符合條件的學生」
- [ ] 介面不會破版

---

## 🎨 UI/UX 測試

### 測試 7.1: 響應式設計
- [ ] 電腦螢幕（1920x1080）顯示正常
- [ ] 筆電螢幕（1366x768）顯示正常
- [ ] 平板（768px）顯示正常
- [ ] 手機（375px）可用（可能需要橫向滾動）

### 測試 7.2: 顏色與可讀性
- [ ] 紅🔴/黃🟡/綠🟢 標籤清晰可辨
- [ ] 文字對比度足夠
- [ ] 「未分配」橙色標籤醒目

### 測試 7.3: 按鈕與互動
- [ ] 所有按鈕有 hover 效果
- [ ] 點擊按鈕有視覺回饋
- [ ] Loading 狀態明確

---

## 📱 跨瀏覽器測試

- [ ] Chrome（最新版）
- [ ] Safari（最新版）
- [ ] Firefox（最新版）
- [ ] Edge（最新版）

---

## ✅ 驗收結果

### 通過標準
- [ ] Phase 1 功能 100% 通過（11/11）
- [ ] Phase 2 功能 100% 通過（9/9）
- [ ] Phase 3 功能至少 80% 通過（可能部分 API 未實作）
- [ ] 無重大 Bug
- [ ] 效能可接受

### 總體評分
- [ ] ⭐⭐⭐⭐⭐ 優秀（95%+ 通過）
- [ ] ⭐⭐⭐⭐ 良好（80-94% 通過）
- [ ] ⭐⭐⭐ 合格（70-79% 通過）
- [ ] ⭐⭐ 需改進（< 70% 通過）

### 發現的問題
```
問題 1:
描述:
嚴重度: □ 嚴重 □ 中等 □ 輕微
狀態: □ 待修復 □ 已修復

問題 2:
描述:
嚴重度: □ 嚴重 □ 中等 □ 輕微
狀態: □ 待修復 □ 已修復

問題 3:
描述:
嚴重度: □ 嚴重 □ 中等 □ 輕微
狀態: □ 待修復 □ 已修復
```

### 改進建議
```
1.

2.

3.
```

---

## 📝 驗收簽核

**驗收人員**: _____________
**驗收日期**: 2025-10-22
**驗收結果**: □ 通過 □ 有條件通過 □ 不通過
**備註**:

---

**測試完成時間**: _______
**總測試項目**: 85+ 項
**通過項目**: _____ 項
**通過率**: _____%
